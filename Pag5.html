<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/Estilos.css" type="text/css" rel="stylesheet">
    <link href="css/bootstrap.min.css" type="text/css" rel="stylesheet">

    <style>
        body{background-color: black;}
    </style>    

    <link rel="icon" href="img/flopa.jpg" type = "image/x-icon">
    <title> Registro </title>

    <script>
        function CambiarMayusculas(){
            var a = document.getElementById("nom");
            a.value = a.value.toUpperCase();
        }

        //aun no borro el texto de donde me robé el script xddddddddd
        function checkRut(rut) {
        // Despejar Puntos
        var valor = rut.value.replace('.','');
        // Despejar Guión
        valor = valor.replace('-','');
        
        // Aislar Cuerpo y Dígito Verificador
        cuerpo = valor.slice(0,-1);
        dv = valor.slice(-1).toUpperCase();
        
        // Formatear RUN
        rut.value = cuerpo + '-'+ dv
        
        // Si no cumple con el mínimo ej. (n.nnn.nnn)
        if(cuerpo.length < 7) { rut.setCustomValidity("RUT Incompleto"); return false;}
        
        // Calcular Dígito Verificador
        suma = 0;
        multiplo = 2;
        
        // Para cada dígito del Cuerpo
        for(i=1;i<=cuerpo.length;i++) {
        
            // Obtener su Producto con el Múltiplo Correspondiente
            index = multiplo * valor.charAt(cuerpo.length - i);
            
            // Sumar al Contador General
            suma = suma + index;
            
            // Consolidar Múltiplo dentro del rango [2,7]
            if(multiplo < 7) { multiplo = multiplo + 1; } else { multiplo = 2; }
    
        }
        
        // Calcular Dígito Verificador en base al Módulo 11
        dvEsperado = 11 - (suma % 11);
        
        // Casos Especiales (0 y K)
        dv = (dv == 'K')?10:dv;
        dv = (dv == 0)?11:dv;
        
        // Validar que el Cuerpo coincide con su Dígito Verificador
        if(dvEsperado != dv) { rut.setCustomValidity("RUT Inválido"); return false; }
        
        // Si todo sale bien, eliminar errores (decretar que es válido)
        rut.setCustomValidity('');
        }

    </script>

</head>

<!--Menu y cosas-->

<body>
    
    <nav class="navbar navbar-expand-lg navbar-dark">
        <button class="navbar-toggler" type="button"> </button>

        <div class="collapse navbar-collapse" id="opciones">   
            <ul class="navbar-nav">
              <li class="nav-item"> <a class="nav-link active" href="index.html">Inicio</a> </li>  
              <li class="nav-item "> <a class="nav-link  active" href="Pag2.html">Quienes somos</a> </li>
              <li class="nav-item"> <a class="nav-link  active" href="Pag3.html">Galeria</a> </li>
              <li class="nav-item"> <a class="nav-link  active" href="Pag4.html">Animales en venta</a> </li>           
            </ul>
              <span class="navbar-brand ml-auto"> <h4>[Brand] <img src="img/flop.gif" width="30" height="30" alt=""></h4> </span> 
        </div>
    </nav>
    
    <br> <br>

    <!--Ahora se viene lo bueno-->
    <h1 class="titulo">Ingresar</h1>
    <br> <br>
    <hr class="hrw">
    <br>

    <form name="contacto" method="POST" action="#">
        <label class="f" for="lname"> Ingresar su nombre: </label>
        <input type="text" id="nombre" name="name" placeholder="Ingresar nombre" onchange="CambiarMayusculas()" size="50" required autofocus><br><br>

        <label class="f" for="lrun"> Ingresar run: </label>
        <input type="text" id="rut" name="rut" required oninput="checkRut(this)" placeholder="Ingrese RUT"><br><br>

        <label class="f" for="lmail"> Ingresar mail: </label>
        <input type="email" id="mail" name="correo" value="" placeholder="Ingresar correo" size="40" required><br><br>

        <label class="f" for="lpass"> Ingresa contraseña: </label>
        <input type="password" id="pass" name="contra" placeholder="Ingresar contraseña" required minlength="5" maxlength="10">
        <input type="password" id="cpass" name="contra" placeholder="Confirmar contraseña" required minlength="5" maxlength="10"><br><br>
        <!--Voy a meterle esa wea de validacion, es un cacho pero pico-->

        <label class="f" for="lfono"> Ingresar telefono: </label>
        <input type="text" name="fono" id="telefono" placeholder="Ingrese su telefono" size="20">

        <input type="submit" value="Enter"> 
        <input type="reset" value="Limpiar">

        <hr class="hrw">
    </form>


</body>